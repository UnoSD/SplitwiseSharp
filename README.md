# SplitwiseSharp

Register your app and get an API key programmatically or through the UI: https://secure.splitwise.com/apps

Set it in the code below.

API autogenerated using https://github.com/Zaid-Ajaj/Hawaii

The OpenAPI schema provided by Splitwise is inconsistent with the actual API, hence it requires alignment, many functions may now work bur require small effort to fix, PRs are welcome.

```fsharp
open SplitwiseSharp
open System.Net.Http
open SplitwiseSharp.Types
open System.Net.Http.Headers

let apiKey =
    "<set your API key here>"

let httpClient =
    new HttpClient(BaseAddress = (Uri "https://secure.splitwise.com/api/v3.0"))

httpClient.DefaultRequestHeaders.Authorization <-
    AuthenticationHeaderValue("Bearer", apiKey)
    
let client =
    SplitwiseSharpClient(httpClient)

match client.GetGetCurrentUser() with
| GetGetCurrentUser.OK currentuser   -> currentuser |> printfn "%A"
| GetGetCurrentUser.Unauthorized err -> printfn $"Unauthorized: {err}"
```
